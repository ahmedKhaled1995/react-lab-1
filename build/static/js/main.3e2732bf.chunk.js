(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(28),a=n.n(s),o=(n(35),n(30)),i=n(4),u=n(10),j=n(2),l=(n(36),n(0)),b=function(e){return Object(l.jsxs)("nav",{children:[Object(l.jsx)("h3",{children:e.title}),e.userName?Object(l.jsxs)("ul",{className:"Nav-links",children:[Object(l.jsx)(u.b,{to:"/",children:Object(l.jsx)("li",{children:"Home"})}),Object(l.jsx)(u.b,{to:"/create",children:Object(l.jsx)("li",{children:"Create Post"})}),Object(l.jsx)(u.b,{to:"/about",children:Object(l.jsx)("li",{children:"About"})}),Object(l.jsx)("h3",{children:e.userName})]}):""]})},d=n(7),p=n.n(d),h=n(11),O=Object(c.createContext)({userName:null,userId:0}),x=n(13),f=n.n(x),m=function(e){var t=Object(c.useContext)(O),n=Object(c.useState)(e),r=Object(i.a)(n,2),s=r[0],a=r[1];return{posts:s,getUserData:function(){var e=Object(h.a)(p.a.mark((function e(){var n,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,e.next=3,f.a.get("https://jsonplaceholder.typicode.com/posts?userId=".concat(n));case 3:c=e.sent,r=c.data,a(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},v=function(e){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:["UserID: ",e.post.userId]}),e.showLink?Object(l.jsx)(u.b,{to:"/posts/".concat(e.post.id),children:Object(l.jsxs)("p",{children:["Title: ",e.post.title]})}):Object(l.jsxs)("p",{children:["Title: ",e.post.title]}),e.showBody?Object(l.jsxs)("p",{children:["body: ",e.post.body]}):""]})};v.defaultProps={showBody:!0,showLink:!0};var g=v,y=function(e){return Object(l.jsx)("ul",{children:e.posts.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsx)(g,{post:e,showBody:!1,showLink:!0}),Object(l.jsx)("hr",{})]},e.id)}))})},w=function(){var e=m([]),t=e.posts,n=e.getUserData;return Object(c.useEffect)((function(){n()}),[]),Object(l.jsx)("div",{children:Object(l.jsx)(y,{posts:t})})},N=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("h3",{children:"About"})})},k=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)([]),o=Object(i.a)(a,2),u=o[0],j=o[1];return Object(c.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/posts/".concat(e.match.params.id,"/comments")).then((function(e){return e.json()})).then((function(e){return j(e)})).catch((function(e){console.log("No post"),console.log(e)})),fetch("https://jsonplaceholder.typicode.com/posts/".concat(e.match.params.id)).then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){console.log("No post"),console.log(e)}))}),[e.match.params.id]),Object(l.jsxs)("div",{children:[Object(l.jsx)(g,{post:r,showButton:!1,showLink:!1}),Object(l.jsx)("h2",{children:"Comments"}),u.map((function(e){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:["name: ",e.name]}),Object(l.jsxs)("p",{children:["email: ",e.email]}),Object(l.jsxs)("p",{children:["body: ",e.body]}),Object(l.jsx)("hr",{})]},e.id)}))]})},C=function(){var e=Object(j.g)(),t=Object(c.useState)(""),n=Object(i.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(""),o=Object(i.a)(a,2),u=o[0],b=o[1],d=Object(c.useContext)(O),x=function(){var t=Object(h.a)(p.a.mark((function t(n,c){var r,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={title:n,body:c,userId:d.userId},t.next=3,f.a.post("https://jsonplaceholder.typicode.com/posts",r);case 3:s=t.sent,s.data,e.push("/posts/7");case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r&&u){e.next=4;break}return alert("InvalidPpost!"),e.abrupt("return");case 4:return e.next=6,x(r,u);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("form",{className:"add-form",onSubmit:m,children:[Object(l.jsx)("div",{className:"form-control",children:Object(l.jsx)("input",{type:"text",placeholder:"Title...",value:r,onChange:function(e){return s(e.target.value)}})}),Object(l.jsx)("div",{className:"form-control",children:Object(l.jsx)("input",{type:"textArea",placeholder:"Body...",value:u,onChange:function(e){return b(e.target.value)}})}),Object(l.jsx)("input",{type:"submit",value:"Add Post",className:"btn btn-block"})]})},I=function(e){var t=Object(j.g)(),n=Object(c.useState)(""),r=Object(i.a)(n,2),s=r[0],a=r[1],o=Object(c.useState)(""),u=Object(i.a)(o,2),b=u[0],d=u[1],x=Object(c.useContext)(O),m=function(){var n=Object(h.a)(p.a.mark((function n(c,r){var s,a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.get("https://jsonplaceholder.typicode.com/users?email=".concat(c));case 2:if(s=n.sent,a=s.data[0]){n.next=8;break}alert("Invalid User!"),n.next=16;break;case 8:if(a.username===r){n.next=11;break}return alert("Invalid Password!"),n.abrupt("return");case 11:console.log("valid"),x.userName=a.username,x.userId=a.id,e.handleLogin(),t.push("/");case 16:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s&&b){e.next=4;break}return alert("Invalid Credintials!"),e.abrupt("return");case 4:return e.next=6,m(s,b);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("form",{className:"add-form",onSubmit:v,children:[Object(l.jsx)("div",{className:"form-control",children:Object(l.jsx)("input",{type:"text",placeholder:"Enter email...",value:s,onChange:function(e){return a(e.target.value)}})}),Object(l.jsx)("div",{className:"form-control",children:Object(l.jsx)("input",{type:"password",placeholder:"Enter email...",value:b,onChange:function(e){return d(e.target.value)}})}),Object(l.jsx)("input",{type:"submit",value:"Login",className:"btn btn-block"})]})},S=function(e){var t=Object(c.useContext)(O);return Object(l.jsx)(c.Fragment,{children:t.userName?e.children:Object(l.jsx)(j.a,{to:"/login/"})})};n(62);var L=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(c.useContext)(O),a=function(){r(s.userName)};return Object(l.jsxs)(u.a,{children:[Object(l.jsx)(b,{title:"Blog Post",userName:n}),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(j.d,{children:[Object(l.jsx)(j.b,{path:"/login",render:function(e){return Object(l.jsx)(I,Object(o.a)({handleLogin:a},e))}}),Object(l.jsxs)(S,{children:[Object(l.jsx)(j.b,{path:"/",component:w,exact:!0}),Object(l.jsx)(j.b,{path:"/create",component:C}),Object(l.jsx)(j.b,{path:"/about",component:N}),Object(l.jsx)(j.b,{path:"/posts/:id",component:k})]})]})})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(L,{})}),document.getElementById("root")),B()}},[[63,1,2]]]);
//# sourceMappingURL=main.3e2732bf.chunk.js.map